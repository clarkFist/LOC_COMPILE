# LOC\_COMPILE

> **LOC\_COMPILE** 是一套用于辅助编译 **VCU（MVCU & SVCU）项目** 的工具集，支持 **图形界面** 与 **命令行** 两种模式。
> 核心功能：
>
> 1. 自动更新 `makefile` 中的编译器路径
> 2. 生成 **MSYS** profile 配置
> 3. 一键启动整个编译流程

---

## 目录

* [功能特点](#功能特点)
* [环境要求](#环境要求)
* [使用说明](#使用说明)
* [目录结构](#目录结构)
* [贡献与开发](#贡献与开发)
* [快速开始](#快速开始)
* [常见问题](#常见问题)

---

## 功能特点

| 功能                     | 说明                            |
| :--------------------- | :---------------------------- |
| **📂 目录结构自动校验**        | 启动时确认项目根目录及其必需子目录是否存在，缺失则自动创建 |
| **🛠️ makefile 路径更新**  | 根据实际位置自动替换编译器（CW / GCC）配置项    |
| **⚙️ MSYS profile 生成** | 按所选模式写入 `MSYS_FLAG` 并调用相应脚本   |
| **🖼️ 图形化界面**          | 基于 `tkinter`，可实时查看日志、选择源码路径   |
| **💻 命令行模式**           | 直接在终端指定源码路径并触发编译              |

---

## 环境要求

> ⚠ **当前仅在 Windows 系统下验证通过。**

* **操作系统**：Windows 10/11
* **Python**：≥ 3.9（需包含 `tkinter` 模块）
* **必备工具链**：

  * `CW/ColdFire_Tools/Command_Line_Tools`
  * `GCC/bin`

---

## 使用说明

### 1. 安装依赖

```bash
pip install -r requirements.txt
```

### 2. 启动图形界面

```bash
python main.py --gui
```

### 3. 命令行编译

```bash
python main.py --console <源文件或目录路径>
```

### 4. 仅更新编译器路径

```bash
python main.py --update-paths
```

---

## 目录结构

首次运行（或手动触发 `--update-paths`）时，会在当前目录生成/校验如下结构：

```text
VCU_compile/
├── dev_kernel_mvcu/
│   ├── src/
│   └── build/
│       └── out/
└── dev_kernel_svcu/
    ├── src/
    └── build/
        └── out/
```

---

## 贡献与开发

欢迎通过 **Issue** / **Pull Request** 反馈问题或贡献代码。

* **调试入口**：`main.py`
* **界面实现**：`vcu_compiler_ui.py`

---

## 快速开始

```bash
# 直接运行（自动判断模式）
python main.py
```

* **拖拽文件/目录** 到终端或在命令行附带路径 → 以 **命令行模式** 运行并开始编译
* 否则默认启动 **图形界面**，可手动选择源码路径后编译

---

## 常见问题

| 问题                   | 解决方案                                                                                               |
| :------------------- | :------------------------------------------------------------------------------------------------- |
| **1. 找不到 MSYS 或编译器** | 确保 `CW/ColdFire_Tools/Command_Line_Tools` 与 `GCC/bin` 位于项目根目录同级或已配置到环境变量；或执行 `--update-paths` 自动修正 |
| **2. GUI 无法启动**      | 检查 Python 是否包含 `tkinter` 模块；某些精简版发行可能缺少该模块，可安装完整版 Python                                           |

---


